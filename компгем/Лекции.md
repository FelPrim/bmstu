[[Захаров Андрей Алексеевич]]
935

12/11/2025
08.pdf
кватернион поворотоа между векторами
см гитхаб
Как найти кватернион поворота?
Известны:
Начальное положение
Конечное положение
$$\begin{gather}
a \times b=\lvert a \rvert \lvert b \rvert \sin\theta=2\lvert a \rvert \lvert b \rvert \cos \frac{\theta}{2} \sin \frac{\theta}{2}=2\lvert a \rvert \lvert b \rvert \cos \frac{\theta}{2}v
\end{gather}$$
В библиотеках (JLMatrix, GPUMatrix есть функции, которые формируют кватернион поворота по 2 векторам)
lerp и slerp.
Нормальный вектор преобразуется с помощью транспонированной обратной матрицы
WebGPU!

19/11/2025
Источники света:
точечный (координата)
бесконечно удалённый (направление)
конический (координата + угол)
прямая
плоскость
кривая
поверхность

3 лекция:
Часто используемые атрибуты html для вызова JavaScript:
onload - Окончание загрузки страницы
onfocus - Получение элементом фокуса ввода (например, при активизации текстового поля)
onblur - Потеря элементом фокуса ввода 
onchange - Изменение значения элемента
onselect - Выделение текста
onsubmit - Отправка текста
onkeydown - Нажатие клавиши
onkeypress - Нажатие и последующее отпускание клавиши
onkeyup - Отпускание клавиши
onclick - Щелчок мышью на элементе
ondrag - Перетаскивание элемента
ondrop - Вставка перетаскиваемого элемента
onmouseover - Перемещение указателя мыши над элементом

```javascript
let a = 12;
function myFunction(){
	let b = 13;
	if (true){
		let c = 14;
	}
}
const ROOM_TEMP_C = 21.5, MAX_TEMP_C = 30;
```
Типы данных:
`undefined`
`number=float64_t`
`string`
`boolean`
`function`
`symbol`
`object` - массивы, объекты, `null`. Не примитив


```javascript
10;
0x0000ff;
0o0077;
0b00001111;
21.5;
3.0e6;
-1.6E-19;
Infinity;
-Infinity;
NaN;

const U = "Юникод";
let supported = "поддерживается";
U + ` ${supported}`;
const items = ["apple", 4+8, 3];
items[4] = items[1]*items[2];
// items[3] = empty
```

f(a,b,c){}
f(a,b) -> c = undefined
```javascript
function printf(format, ...vars){
	let prefixedWords = [];
	for (let i = 0; i < vars.length; ++i){
		prefixedWords[i] = format + vars[i];
	}
	return prefixedWords;
}
let favourite_func = printf;
favourite_func("con", "text", "test");
```

JSDoc vs комментарий в JS:
/** \*/ vs /* \*/
Теги JSDoc:
@author - Имя разраба
@version
@constructor - функция-конструктор
@deprecated 
@exception - синоним @throws
@exports
@param
@private
@return (@returns)
@see - описывает связь с другим объектом
@this - тип объекта, на который указывает ключевое слово this в функции
```javascript
/**
*Сложение элементов массива
*@param {Array.<number>} numbersToAdd
*@return {Number} sum
*/
function addNumbers(numbersToAdd){
	let sum = 0;
	for (let i = 0; i < numbersToAdd.length; ++i){
		sum += numbersToAdd[i];
	}
	return sum;
}
```
http://usejsdoc.org - инфа про JSDoc

Лямбда функции:
```javascript
(a, b) => {
	return a+b;
} === (x, y) => x+y;
x => 2*x;
(() => 9)();
```
параметры по умолчанию поддерживаются
```javascript
class Vector{
	static counter = 0;
	constructor(...elems){
		const count = elems.length;
		if (count == 0){
			this.count = 0;
			this.data = new Array(8);
		}
		else{
			this.count = count;
			this.data = new Array(elems);	
		}
		Vector.counter++;
	}
	get(index){
		if (index < 0 || this.count >= index){
			throw new Error(`Out of bounds`);
		}
		return this.data[index];
	}
	static update_counter_after_delete(){
		Vector.counter--;
	}
}

class MathVector extends Vector{
	constructor(...elems){
		super();
	}
	static add(left, right){
		if (left.count != right.count){
			throw new Error('Adding vectors with nonequal length');
		}
		const result = new Vector(left.data);
		for (let i = 0; i < result.length; ++i)
			result.data[i] += right.data[i];
		return result;
	}
}

const person = {
	eyes: 2, 
	feet: 2,
	eyeColor: "blue"
};
person.hands = 2;
```

```javascript
Number, 
Array (length, push, unshift, concat, join, shift, pop, reverse, slice, sort((x,y) => {
	if (x > y)
		return 1;
	if (x < y)
		return -1;
	return 0;
}), splice:
	[0, 1, 2, 3, 4].splice(2, 2, 00, 01, 02) ===
	[0, 1, 00, 01, 02, 4], toString(), valueOf(), every (\forall), filter, foreach, includes, indexOf, lastIndexOf, map, reduce, reduceRight, some (\exists), fill, find, findIndex, copyWithin)
	Math
	-5**2 - лексическая ошибка
	Date (Date.now())
```

```javascript
window - самый высокий
event
frame
history
navigator
location - URL адрес
screen - хар-ки экрана
document - для редактирования html
```




